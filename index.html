<!DOCTYPE html>
<html lang="ar" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>لغز حب متسلسل</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap');

    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: 'Cairo', sans-serif;
      color: #333;
      padding: 20px;
      text-align: center;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: #222;
    }

    input[type="text"] {
      padding: 0.8rem 1rem;
      font-size: 1.2rem;
      border-radius: 8px;
      border: 2px solid #ff6f91;
      outline: none;
      transition: border-color 0.3s ease;
      width: 250px;
      text-align: center;
    }

    input[type="text"]:focus {
      border-color: #ff4667;
    }

    button {
      margin-top: 1rem;
      background-color: #ff4667;
      border: none;
      padding: 0.8rem 2rem;
      font-size: 1.2rem;
      border-radius: 8px;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #ff2a49;
    }

    .message {
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translate(-50%, 0);
      font-size: 2rem;
      font-weight: 900;
      color: #2ecc71; /* أخضر */
      display: flex;
      align-items: center;
      gap: 10px;
      opacity: 0;
      pointer-events: none;
      animation-fill-mode: forwards;
      z-index: 1000;
    }

    .message.show {
      animation: floatUpFade 3s forwards;
      pointer-events: auto;
      opacity: 1;
    }

    @keyframes floatUpFade {
      0% {
        opacity: 1;
        transform: translate(-50%, 0);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -80px);
      }
    }

    .heart {
      color: #e74c3c;
      font-size: 2.5rem;
      animation: pulse 1.5s infinite;
    }

    .heart2 {
      color: #ff4667;
      font-size: 2.5rem;
      animation: pulse 1.5s infinite;
    }

    .wink {
      font-size: 2.5rem;
      animation: pulse 1.5s infinite;
      color: #2ecc71;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1);}
      50% { transform: scale(1.3);}
    }

    .hidden {
      display: none;
    }

    .love-question {
      font-weight: 600;
      font-size: 1.5rem;
      margin-top: 30px;
      color: #222;
    }

    .small-text {
      font-size: 0.9rem;
      color: #555;
      margin-top: 5px;
      font-weight: 400;
      font-family: 'Cairo', sans-serif;
    }
  </style>
</head>
<body>

  <h1 id="question">أول مكالمه فون اتكلمناها سوا كانت تاريخها اي؟؟</h1>
  <input id="answer" type="text" placeholder="" autocomplete="off" autofocus />
  <button id="checkBtn">تحقق</button>

  <div id="message" class="message">
    <span id="msgText">رسالة هنا</span>
    <span id="msgIcon" class="heart">❤️</span>
  </div>

  <div id="finalQuestion" class="hidden">
    <p class="love-question">بتحبني؟؟</p>
    <p class="small-text">(قوليها ف الشات)</p>
  </div>

<script>
  const questions = [
    {
      q: "أول مكالمه فون اتكلمناها سوا كانت تاريخها اي؟؟",
      answers: ["31/3"],
      successMsg: 'شاطره يا نونو',
      iconClass: 'heart',
      icon: '❤️'
    },
    {
      q: "اي اكتر كلمه كنت بقولها دايما زمان ؟",
      answers: ["ديموقراطي", "مادي بحت"],
      successMsg: 'الذاكره حديد يا بطه',
      iconClass: 'heart2',
      icon: '💖'
    },
    {
      q: "باقي كام يوم ونكمل سنه سوا؟",
      answers: ["49"],
      successMsg: 'احلي واجمل والذ سنه عدت عليا يا حلوا',
      iconClass: 'wink',
      icon: '😉'
    },
    {
      q: "مين حبيب بابا؟",
      answers: ["انا", "امنيه"],
      successMsg: 'ماي جيرل',
      iconClass: 'heart',
      icon: '❤️'
    },
    {
      q: "السؤال دا اكتر اسم بتحبي تناديني بيه؟",
      answers: [], // أي إجابة
      successMsg: 'بحبك يا نونو',
      iconClass: 'heart',
      icon: '❤️',
      isNameInput: true
    }
  ];

  let currentQ = 0;
  const questionEl = document.getElementById('question');
  const answerEl = document.getElementById('answer');
  const btn = document.getElementById('checkBtn');
  const message = document.getElementById('message');
  const msgText = document.getElementById('msgText');
  const msgIcon = document.getElementById('msgIcon');
  const finalQuestion = document.getElementById('finalQuestion');

  function showMessage(text, icon, iconClass) {
    msgText.textContent = text;
    msgIcon.textContent = icon;
    msgIcon.className = iconClass;
    message.classList.add('show');
    // تختفي الرسالة بعد 3 ثواني
    setTimeout(() => {
      message.classList.remove('show');
    }, 3000);
  }

  function nextQuestion() {
    currentQ++;
    if (currentQ < questions.length) {
      questionEl.textContent = questions[currentQ].q;
      answerEl.value = '';
      answerEl.focus();

      if (questions[currentQ].q === "باقي كام يوم ونكمل سنه سوا؟") {
        finalQuestion.classList.add('hidden');
      }

      // إظهار/إخفاء السؤال "بتحبني؟؟"
      if (questions[currentQ].q === "بتحبني؟؟") {
        finalQuestion.classList.remove('hidden');
      }
    } else {
      // انتهت كل الأسئلة - نعرض الصفحة النهائية
      showFinalPage();
    }
  }

  function showFinalPage() {
    document.body.innerHTML = '';
    const lastAnswer = questions[questions.length -1].lastAnswer || '';
    const div = document.createElement('div');
    div.style.height = '100vh';
    div.style.display = 'flex';
    div.style.flexDirection = 'column';
    div.style.justifyContent = 'center';
    div.style.alignItems = 'center';
    div.style.background = 'linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)';
    div.style.color = '#2ecc71';
    div.style.fontFamily = "'Cairo', sans-serif";
    div.style.fontWeight = '900';
    div.style.fontSize = '2.5rem';
    div.style.textAlign = 'center';
    div.style.padding = '20px';
    div.innerHTML = `<p>${lastAnswer} بيحبك جدا جدا جدا جدا وفوق الوصف</p>`;
    document.body.appendChild(div);
  }

  btn.addEventListener('click', () => {
    const userAnswer = answerEl.value.trim().toLowerCase();
    if (!userAnswer) {
      alert('من فضلك اكتب إجابتك');
      return;
    }

    const currentQuestion = questions[currentQ];

    if (currentQuestion.isNameInput) {
      currentQuestion.lastAnswer = answerEl.value.trim();
      showMessage(currentQuestion.successMsg, currentQuestion.icon, currentQuestion.iconClass);
      setTimeout(() => {
        showFinalPage();
      }, 3000);

    } else {
      const valid = currentQuestion.answers.some(ans => ans.toLowerCase() === userAnswer);
      if (valid) {
        showMessage(currentQuestion.successMsg, currentQuestion.icon, currentQuestion.iconClass);
        setTimeout(() => {
          nextQuestion();
        }, 3000);
      } else {
        alert('حاول تاني! الإجابة مش صح.');
        answerEl.value = '';
        answerEl.focus();
